{"version":3,"file":"pages/useApp/index.js","sources":["webpack:///./src/pages/useApp/index.vue?7b06","webpack:///._src_pages_useApp_index.vue","webpack:///./src/pages/useApp/index.vue?da2a","webpack:///.._vueuse_es_useApp_index.js","webpack:///./src/pages/useApp/index.vue?533b","webpack:///./src/pages/useApp/index.vue?9350","webpack:///./src/pages/useApp/index.vue?c9d2","webpack:///./src/pages/useApp/index.vue?ccb6"],"sourcesContent":["import { render } from \"./index.vue?vue&type=template&id=159185a1\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=159185a1&lang=scss\"\n\nimport exportComponent from \"/Users/wukewei/Documents/outproject/vongi/taro-vueuse/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__file',\"src/pages/useApp/index.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"159185a1\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('159185a1', __exports__)) {\n    console.log('reload')\n    api.reload('159185a1', __exports__)\n  }\n  \n  module.hot.accept(\"./index.vue?vue&type=template&id=159185a1\", () => {\n    console.log('re-render')\n    api.rerender('159185a1', render)\n  })\n\n}\n\n\nexport default __exports__","<template>\n  <view class=\"index\">\n    <view class=\"btn\">\n      {{ globalData }}\n\n      <nut-button type=\"primary\" @click=\"handleOnClick\">设置key为name，v为AAA</nut-button>\n    </view>\n  </view>\n</template>\n\n<script>\nimport { useApp } from 'taro-vueuse';\nimport { getCurrentInstance } from '@tarojs/taro';\nexport default {\n  name: 'use-app',\n  components: {},\n  setup() {\n    const [appInstance, globalData, setGlobalDataAsync] = useApp();\n    console.log('appInstance', appInstance);\n    const handleOnClick = () => {\n      setGlobalDataAsync('name', 'AAA');\n    };\n\n    return {\n      globalData,\n      handleOnClick,\n    };\n  },\n};\n</script>\n\n<style lang=\"scss\">\n.index {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  text-align: center;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n</style>\n","// extracted by mini-css-extract-plugin","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport { ref } from 'vue';\nimport { getApp } from '@tarojs/taro';\n\nfunction useApp(allDefault) {\n  var _appInstance$globalDa;\n\n  var appInstance = getApp({\n    allowDefault: Boolean(allDefault)\n  });\n  var globalData = ref((_appInstance$globalDa = appInstance.globalData) !== null && _appInstance$globalDa !== void 0 ? _appInstance$globalDa : {});\n\n  var setGlobalDataAsync = function setGlobalDataAsync(key, value) {\n    return new Promise(function (resolve, reject) {\n      try {\n        var prevGlobalData = _objectSpread({}, globalData.value);\n\n        prevGlobalData[key] = value;\n        appInstance.globalData = prevGlobalData;\n        globalData.value = prevGlobalData;\n        resolve({\n          errMsg: 'setGlobalData: ok'\n        });\n      } catch (e) {\n        reject({\n          errMsg: 'setGlobalData: fail',\n          data: e\n        });\n      }\n    });\n  };\n\n  return [appInstance, globalData, setGlobalDataAsync];\n}\n\nexport default useApp;","import { createPageConfig } from '@tarojs/runtime'\nimport component from \"../../../../../node_modules/@tarojs/taro-loader/lib/raw.js!./index.vue\"\nvar config = {\"navigationBarTitleText\":\"useApp\"};\n\n\nvar inst = Page(createPageConfig(component, 'pages/useApp/index', {root:{cn:[]}}, config || {}))\n\n\n","export { default } from \"-!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/vue-loader/dist/index.js??ref--10-0!./index.vue?vue&type=script&lang=js\"; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/vue-loader/dist/index.js??ref--10-0!./index.vue?vue&type=script&lang=js\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../node_modules/css-loader/dist/cjs.js??ref--1-oneOf-0-1!../../../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../../../node_modules/postcss-loader/dist/cjs.js??ref--1-oneOf-0-2!../../../../../node_modules/@tarojs/mini-runner/node_modules/resolve-url-loader/index.js!../../../../../node_modules/sass-loader/dist/cjs.js??ref--1-oneOf-0-4!../../../../../node_modules/vue-loader/dist/index.js??ref--10-0!./index.vue?vue&type=style&index=0&id=159185a1&lang=scss\"","export * from \"-!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/vue-loader/dist/templateLoader.js??ref--6!../../../../../node_modules/vue-loader/dist/index.js??ref--10-0!./index.vue?vue&type=template&id=159185a1\""],"mappings":";;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAcA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACfA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AAdA;;;;;;;;;;;;;;;;;AAZA;;;AACA;;;AAGA;AACA;;;;AALA;AAIA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;AAAA;;AAAA;;;;;;;;;;;;ACLA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACnCA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACPA;AAAA;AAAA;AAAA;;;;;;;;;;;;ACAA;AAAA;AAAA;;;;;;;;;;;;;;ACAA;AAAA;AAAA;;;;;A","sourceRoot":""}