!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("vue"),require("@tarojs/taro"),require("querystring")):"function"==typeof define&&define.amd?define(["exports","vue","@tarojs/taro","querystring"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self)["taro-vues"]={},t.vue,t.Taro,t.querystring)}(this,(function(t,e,r,n){"use strict";function o(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var i=o(r);function a(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function c(t,e,r){return t(r={path:e,exports:{},require:function(t,e){return function(){throw Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}()}},r.exports),r.exports}var u=c((function(t){t.exports=function(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t},t.exports.__esModule=!0,t.exports.default=t.exports})),s=c((function(t){function e(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}t.exports=function(t){for(var r=1;arguments.length>r;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?e(Object(n),!0).forEach((function(e){u(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t},t.exports.__esModule=!0,t.exports.default=t.exports})),l=a(s);function f(t,e){return function(){for(var r=this,n=arguments.length,o=Array(n),i=0;n>i;i++)o[i]=arguments[i];t((function(){return e.apply(r,o)}),{fn:e,thisArg:this,args:o})}}function h(t){var r,n=1>=arguments.length||void 0===arguments[1]||arguments[1],o=2>=arguments.length||void 0===arguments[2]||arguments[2],i=0,a=!0,c=function(){r&&(clearTimeout(r),r=void 0)},u=function(u){var s=e.unref(t),l=Date.now()-i;if(c(),0>=s)return i=Date.now(),u();s>=l||!o&&a?n&&(r=setTimeout((function(){i=Date.now(),a=!0,c(),u()}),s)):(i=Date.now(),u()),o||r||(r=setTimeout((function(){return a=!0}),s)),a=!1};return u}function p(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,r=2>=arguments.length||void 0===arguments[2]||arguments[2],n=3>=arguments.length||void 0===arguments[3]||arguments[3];return f(h(e,r,n),t)}var v=["__taro","at"];function d(t,e){return t?"".concat(t,".").concat(e):e}var y=c((function(t){var e=function(t){var e,r=Object.prototype,n=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=Object.create((e&&e.prototype instanceof y?e:y).prototype),i=new E(n||[]);return o._invoke=function(t,e,r){var n=f;return function(o,i){if(n===p)throw Error("Generator is already running");if(n===v){if("throw"===o)throw i;return A()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=T(a,r);if(c){if(c===d)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===f)throw n=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=p;var u=l(t,e,r);if("normal"===u.type){if(n=r.done?v:h,u.arg===d)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n=v,r.method="throw",r.arg=u.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var f="suspendedStart",h="suspendedYield",p="executing",v="completed",d={};function y(){}function g(){}function m(){}var b={};u(b,i,(function(){return this}));var w=Object.getPrototypeOf,x=w&&w(w(M([])));x&&x!==r&&n.call(x,i)&&(b=x);var O=m.prototype=y.prototype=Object.create(b);function j(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function P(t,e){function r(o,i,a,c){var u=l(t[o],t,i);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(f).then((function(t){s.value=t,a(s)}),(function(t){return r("throw",t,a,c)}))}c(u.arg)}var o;this._invoke=function(t,n){function i(){return new e((function(e,o){r(t,n,e,o)}))}return o=o?o.then(i,i):i()}}function T(t,r){var n=t.iterator[r.method];if(n===e){if(r.delegate=null,"throw"===r.method){if(t.iterator.return&&(r.method="return",r.arg=e,T(t,r),"throw"===r.method))return d;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var o=l(n,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,d;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,d):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function M(t){if(t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}return{next:A}}function A(){return{value:e,done:!0}}return g.prototype=m,u(O,"constructor",m),u(m,"constructor",g),g.displayName=u(m,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,u(t,c,"GeneratorFunction")),t.prototype=Object.create(O),t},t.awrap=function(t){return{__await:t}},j(P.prototype),u(P.prototype,a,(function(){return this})),t.AsyncIterator=P,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new P(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},j(O),u(O,c,"Generator"),u(O,i,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=M,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(L),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(this.prev>=a.tryLoc){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(a.catchLoc>this.prev)return o(a.catchLoc,!0);if(a.finallyLoc>this.prev)return o(a.finallyLoc)}else if(u){if(a.catchLoc>this.prev)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(a.finallyLoc>this.prev)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(this.prev>=o.tryLoc&&n.call(o,"finallyLoc")&&o.finallyLoc>this.prev){var i=o;break}}!i||"break"!==t&&"continue"!==t||i.tryLoc>e||e>i.finallyLoc||(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),L(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;L(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:M(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),d}},t}(t.exports);try{regeneratorRuntime=e}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}})),g=y,m=c((function(t){function e(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}t.exports=function(t){return function(){var r=this,n=arguments;return new Promise((function(o,i){var a=t.apply(r,n);function c(t){e(a,o,i,c,u,"next",t)}function u(t){e(a,o,i,c,u,"throw",t)}c(void 0)}))}},t.exports.__esModule=!0,t.exports.default=t.exports})),b=a(m),w=c((function(t){t.exports=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;i.length>n;n++)0>e.indexOf(r=i[n])&&(o[r]=t[r]);return o},t.exports.__esModule=!0,t.exports.default=t.exports})),x=a(c((function(t){t.exports=function(t,e){if(null==t)return{};var r,n,o=w(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;i.length>n;n++)0>e.indexOf(r=i[n])&&Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o},t.exports.__esModule=!0,t.exports.default=t.exports})));
/*!
	 * Compressor.js v1.1.1
	 * https://fengyuanchen.github.io/compressorjs
	 *
	 * Copyright 2018-present Chen Fengyuan
	 * Released under the MIT license
	 *
	 * Date: 2022-03-22T15:13:43.699Z
	 */
function O(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function j(t){for(var e=1;arguments.length>e;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?O(Object(r),!0).forEach((function(e){T(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function P(t,e){for(var r=0;e.length>r;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function T(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function k(){return k=Object.assign||function(t){for(var e=1;arguments.length>e;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},k.apply(this,arguments)}var L={exports:{}};!function(t){"undefined"!=typeof window&&function(e){var r=e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype,n=!!r,o=e.Blob&&function(){try{return!!new Blob}catch(t){return!1}}(),i=o&&e.Uint8Array&&function(){try{return 100===new Blob([new Uint8Array(100)]).size}catch(t){return!1}}(),a=e.BlobBuilder||e.WebKitBlobBuilder||e.MozBlobBuilder||e.MSBlobBuilder,c=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,u=(o||a)&&e.atob&&e.ArrayBuffer&&e.Uint8Array&&function(t){var e,r,n,u,s,l,f,h,p;if(!(e=t.match(c)))throw Error("invalid data URI");for(r=e[2]?e[1]:"text/plain"+(e[3]||";charset=US-ASCII"),n=!!e[4],u=t.slice(e[0].length),s=n?atob(u):decodeURIComponent(u),l=new ArrayBuffer(s.length),f=new Uint8Array(l),h=0;s.length>h;h+=1)f[h]=s.charCodeAt(h);return o?new Blob([i?f:l],{type:r}):((p=new a).append(l),p.getBlob(r))};n&&e.HTMLCanvasElement&&!r.toBlob&&(r.mozGetAsFile?r.toBlob=function(t,e,n){var o=this;setTimeout((function(){t(n&&r.toDataURL&&u?u(o.toDataURL(e,n)):o.mozGetAsFile("blob",e))}))}:r.toDataURL&&u&&(r.toBlob=r.msToBlob?function(t,e,n){var o=this;setTimeout((function(){t((e&&"image/png"!==e||n)&&r.toDataURL&&u?u(o.toDataURL(e,n)):o.msToBlob(e))}))}:function(t,e,r){var n=this;setTimeout((function(){t(u(n.toDataURL(e,r)))}))})),t.exports?t.exports=u:e.dataURLtoBlob=u}(globalThis||window)}(L);var E=L.exports,M={strict:!0,checkOrientation:!0,maxWidth:1/0,maxHeight:1/0,minWidth:0,minHeight:0,width:void 0,height:void 0,resize:"none",quality:.8,mimeType:"auto",convertTypes:["image/png"],convertSize:5e6,beforeDraw:null,drew:null,success:null,error:null},A="undefined"!=typeof window&&void 0!==window.document?window:{},U=function(t){return t>0&&1/0>t},B=Array.prototype.slice;var R=/^image\/.+$/;function _(t){return R.test(t)}var D=String.fromCharCode;var S=A.btoa;function I(t){var e,r=new DataView(t);try{var n,o,i;if(255===r.getUint8(0)&&216===r.getUint8(1))for(var a=r.byteLength,c=2;a>c+1;){if(255===r.getUint8(c)&&225===r.getUint8(c+1)){o=c;break}c+=1}if(o){var u=o+10;if("Exif"===function(t,e,r){var n,o="";for(r+=e,n=e;r>n;n+=1)o+=D(t.getUint8(n));return o}(r,o+4,4)){var s=r.getUint16(u);if(((n=18761===s)||19789===s)&&42===r.getUint16(u+2,n)){var l=r.getUint32(u+4,n);8>l||(i=u+l)}}}if(i){var f,h,p=r.getUint16(i,n);for(h=0;p>h;h+=1)if(274===r.getUint16(f=i+12*h+2,n)){e=r.getUint16(f+=8,n),r.setUint16(f,1,n);break}}}catch(t){e=1}return e}var F=/\.\d*(?:0|9){12}\d*$/;function z(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e11;return F.test(t)?Math.round(t*e)/e:t}function C(t){var e=t.aspectRatio,r=t.height,n=t.width,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",i=U(n),a=U(r);if(i&&a){var c=r*e;("contain"===o||"none"===o)&&c>n||"cover"===o&&n>c?r=n/e:n=r*e}else i?r=n/e:a&&(n=r*e);return{width:n,height:r}}var W=A.ArrayBuffer,H=A.FileReader,q=A.URL||A.webkitURL,G=/\.\w+$/,N=A.Compressor,Y=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.file=e,this.image=new Image,this.options=j(j({},M),r),this.aborted=!1,this.result=null,this.init()}var e,r,n;return e=t,n=[{key:"noConflict",value:function(){return window.Compressor=N,t}},{key:"setDefaults",value:function(t){k(M,t)}}],(r=[{key:"init",value:function(){var t=this,e=this.file,r=this.options;if(n=e,"undefined"!=typeof Blob&&(n instanceof Blob||"[object Blob]"===Object.prototype.toString.call(n))){var n,o=e.type;if(_(o))if(q&&H)if(W||(r.checkOrientation=!1),q&&!r.checkOrientation)this.load({url:q.createObjectURL(e)});else{var i=new H,a=r.checkOrientation&&"image/jpeg"===o;this.reader=i,i.onload=function(r){var n=r.target.result,i={};if(a){var c=I(n);c>1||!q?(i.url=function(t,e){for(var r,n=[],o=new Uint8Array(t);o.length>0;)n.push(D.apply(null,(r=o.subarray(0,8192),Array.from?Array.from(r):B.call(r)))),o=o.subarray(8192);return"data:".concat(e,";base64,").concat(S(n.join("")))}(n,o),c>1&&k(i,function(t){var e=0,r=1,n=1;switch(t){case 2:r=-1;break;case 3:e=-180;break;case 4:n=-1;break;case 5:e=90,n=-1;break;case 6:e=90;break;case 7:e=90,r=-1;break;case 8:e=-90}return{rotate:e,scaleX:r,scaleY:n}}(c))):i.url=q.createObjectURL(e)}else i.url=n;t.load(i)},i.onabort=function(){t.fail(Error("Aborted to read the image with FileReader."))},i.onerror=function(){t.fail(Error("Failed to read the image with FileReader."))},i.onloadend=function(){t.reader=null},a?i.readAsArrayBuffer(e):i.readAsDataURL(e)}else this.fail(Error("The current browser does not support image compression."));else this.fail(Error("The first argument must be an image File or Blob object."))}else this.fail(Error("The first argument must be a File or Blob object."))}},{key:"load",value:function(t){var e=this,r=this.file,n=this.image;n.onload=function(){e.draw(j(j({},t),{},{naturalWidth:n.naturalWidth,naturalHeight:n.naturalHeight}))},n.onabort=function(){e.fail(Error("Aborted to load the image."))},n.onerror=function(){e.fail(Error("Failed to load the image."))},A.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(A.navigator.userAgent)&&(n.crossOrigin="anonymous"),n.alt=r.name,n.src=t.url}},{key:"draw",value:function(t){var e=this,r=t.naturalWidth,n=t.naturalHeight,o=t.rotate,i=void 0===o?0:o,a=t.scaleX,c=void 0===a?1:a,u=t.scaleY,s=void 0===u?1:u,l=this.file,f=this.image,h=this.options,p=document.createElement("canvas"),v=p.getContext("2d"),d=Math.abs(i)%180==90,y=("contain"===h.resize||"cover"===h.resize)&&U(h.width)&&U(h.height),g=Math.max(h.maxWidth,0)||1/0,m=Math.max(h.maxHeight,0)||1/0,b=Math.max(h.minWidth,0)||0,w=Math.max(h.minHeight,0)||0,x=r/n,O=h.width,j=h.height;if(d){var P=[m,g];g=P[0],m=P[1];var T=[w,b];b=T[0],w=T[1];var k=[j,O];O=k[0],j=k[1]}y&&(x=O/j);var L=C({aspectRatio:x,width:g,height:m},"contain");g=L.width,m=L.height;var M=C({aspectRatio:x,width:b,height:w},"cover");if(b=M.width,w=M.height,y){var A=C({aspectRatio:x,width:O,height:j},h.resize);O=A.width,j=A.height}else{var B=C({aspectRatio:x,width:O,height:j}),R=B.width;O=void 0===R?r:R;var D=B.height;j=void 0===D?n:D}var S=-(O=Math.floor(z(Math.min(Math.max(O,b),g))))/2,I=-(j=Math.floor(z(Math.min(Math.max(j,w),m))))/2,F=O,W=j,H=[];if(y){var q,G,N=C({aspectRatio:x,width:r,height:n},{contain:"cover",cover:"contain"}[h.resize]);H.push((r-(q=N.width))/2,(n-(G=N.height))/2,q,G)}if(H.push(S,I,F,W),d){var Y=[j,O];O=Y[0],j=Y[1]}p.width=O,p.height=j,_(h.mimeType)||(h.mimeType=l.type);var $="transparent";if(l.size>h.convertSize&&h.convertTypes.indexOf(h.mimeType)>=0&&(h.mimeType="image/jpeg"),"image/jpeg"===h.mimeType&&($="#fff"),v.fillStyle=$,v.fillRect(0,0,O,j),h.beforeDraw&&h.beforeDraw.call(this,v,p),!this.aborted&&(v.save(),v.translate(O/2,j/2),v.rotate(i*Math.PI/180),v.scale(c,s),v.drawImage.apply(v,[f].concat(H)),v.restore(),h.drew&&h.drew.call(this,v,p),!this.aborted)){var K=function(t){e.aborted||e.done({naturalWidth:r,naturalHeight:n,result:t})};p.toBlob?p.toBlob(K,h.mimeType,h.quality):K(E(p.toDataURL(h.mimeType,h.quality)))}}},{key:"done",value:function(t){var e,r,n=t.naturalWidth,o=t.naturalHeight,i=t.result,a=this.file,c=this.options;if(q&&!c.checkOrientation&&q.revokeObjectURL(this.image.src),i)if(c.strict&&i.size>a.size&&c.mimeType===a.type&&!(c.width>n||c.height>o||c.minWidth>n||c.minHeight>o||n>c.maxWidth||o>c.maxHeight))i=a;else{var u=new Date;i.lastModified=u.getTime(),i.lastModifiedDate=u,i.name=a.name,i.name&&i.type!==a.type&&(i.name=i.name.replace(G,("jpeg"===(r=_(e=i.type)?e.substr(6):"")&&(r="jpg"),".".concat(r))))}else i=a;this.result=i,c.success&&c.success.call(this,i)}},{key:"fail",value:function(t){var e=this.options;if(!e.error)throw t;e.error.call(this,t)}},{key:"abort",value:function(){this.aborted||(this.aborted=!0,this.reader?this.reader.abort():this.image.complete?this.fail(Error("The compression process has been aborted.")):(this.image.onload=null,this.image.onabort()))}}])&&P(e.prototype,r),n&&P(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}(),$=function(){var t=b(g.mark((function t(e){var r;return g.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e);case 2:return r=t.sent,t.next=5,r.blob();case 5:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),K=function(t){var e=new Blob([t],{type:"application/octet-stream"});return window.URL.createObjectURL(e)},X=function(){var t=b(g.mark((function t(e){var r,n,o;return g.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=20;break}return r=!0,t.prev=2,t.next=5,$(e);case 5:n=K(t.sent),(o=document.createElement("a")).href=n,o.download=e.split("/").reverse()[0],document.body.appendChild(o),o.click(),document.body.removeChild(o),window.URL.revokeObjectURL(n),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(2),r=!1;case 19:return t.abrupt("return",r);case 20:return t.abrupt("return",!1);case 21:case"end":return t.stop()}}),t,null,[[2,16]])})));return function(e){return t.apply(this,arguments)}}(),V=function(t,e){return new Promise((function(r,n){new Y(t,{quality:(e||80)/100,success:function(t){var e=K(t);r({tempFilePath:e,errMsg:"compressImage:ok"})},error:n})}))},J="WEAPP",Q="WEB",Z=["errMsg"];var tt=c((function(t){function e(r){return t.exports=e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,e(r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})),et=a(tt),rt=function(t,e){return[e].flat().some((function(e){return Object.prototype.toString.call(t)==="[object ".concat(e,"]")}))};function nt(t,e){var r=t;if(e&&"object"===et(e)){var o=r.includes("?");r+=(o?"&":"?")+n.stringify(e)}return r}t.createInjectionState=function(t){var r=Symbol("InjectionState");return[function(){e.provide(r,t.apply(void 0,arguments))},function(){return e.inject(r)},function(e){for(var n=arguments.length,o=Array(n>1?n-1:0),i=1;n>i;i++)o[i-1]=arguments[i];e.provide(r,t.apply(void 0,o))}]},t.refThrottled=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,n=2>=arguments.length||void 0===arguments[2]||arguments[2],o=3>=arguments.length||void 0===arguments[3]||arguments[3];if(0>=r)return t;var i=e.ref(t.value),a=p((function(){i.value=t.value}),r,n,o);return e.watch(t,(function(){return a()})),i},t.useApp=function(t){var n,o=r.getApp({allowDefault:!!t}),i=e.ref(null!==(n=o.globalData)&&void 0!==n?n:{});return[o,i,function(t,e){return new Promise((function(r,n){try{var a=l({},i.value);a[t]=e,o.globalData=a,i.value=a,r({errMsg:"setGlobalData: ok"})}catch(t){n({errMsg:"setGlobalData: fail",data:t})}}))}]},t.useEvent=function(t){var r=i.default.eventCenter;return{emitEvent:function(e){if(e){for(var n=d(t,e),o=arguments.length,i=Array(o>1?o-1:0),a=1;o>a;a++)i[a-1]=arguments[a];r.trigger(n,i)}else console.warn("eventName not provide")},setListener:function(n){for(var o=arguments.length,i=Array(o>1?o-1:0),a=1;o>a;a++)i[a-1]=arguments[a];if(!n||v.some((function(t){return n.startsWith(t)})))console.warn("eventName not valid. listen failed");else if(i.length){var c=d(t,n);e.onMounted((function(){i.forEach((function(t){r.on(c,t)}))})),e.onUnmounted((function(){r.off(c)}))}else console.warn("you mast provide one handler to listen. add failed")},removeAllListener:function(){r.off()}}},t.useImage=function(t){var n=e.ref({}),o=r.getEnv();return[n,{choose:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=t.count,i=t.sizeType,a=t.sourceType,c=Object.assign({},Object.fromEntries([["count",o],["sizeType",i],["sourceType",a]].filter((function(t){return t[1]}))||[]),e||{});return new Promise((function(t,e){try{r.chooseImage(l(l({},c),{},{success:function(e){var r=x(e,Z);n.value=r,t(e)},fail:e})).catch(e)}catch(t){e(t)}}))},chooseMessageFile:function(t,e,r){return new Promise((function(n,a){if(t&&o===J)try{var c=Object.fromEntries([["type",e],["extension",r]].filter((function(t){return t[1]}))||[]);i.default.chooseMessageFile(l(l({count:t},c),{},{success:n,fail:a}))}catch(t){a(t)}else a("you must provide count")}))},preview:function(t){return new Promise((function(e,n){try{r.previewImage(l(l({},t),{},{success:e,fail:n})).catch(n)}catch(t){n(t)}}))},save:function(t){return new Promise(function(){var e=b(g.mark((function e(n,i){return g.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=4;break}i("you must provide filePath"),e.next=18;break;case 4:if(e.prev=4,o!==Q){e.next=12;break}return e.next=8,X(t);case 8:e.sent?n({errMsg:"save success"}):i("save fail"),e.next=13;break;case 12:r.saveImageToPhotosAlbum({filePath:t,success:n,fail:i}).catch(i);case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(4),i(e.t0);case 18:case"end":return e.stop()}}),e,null,[[4,15]])})));return function(t,r){return e.apply(this,arguments)}}())},getInfo:function(t){return new Promise((function(e,n){if(t)try{r.getImageInfo({src:t,success:e,fail:n}).catch(n)}catch(t){n(t)}else n("please enter a valid path")}))},compress:function(t,e){return new Promise(function(){var r=b(g.mark((function r(n,a){return g.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t||a("you must provide src"),r.prev=1,o!==Q){r.next=9;break}return r.next=5,$(t);case 5:V(r.sent,e).then(n,a),r.next=10;break;case 9:i.default.compressImage(l(l({src:t},e?{quality:e}:{}),{},{success:n,fail:a})).catch(a);case 10:r.next=15;break;case 12:r.prev=12,r.t0=r.catch(1),a(r.t0);case 15:case"end":return r.stop()}}),r,null,[[1,12]])})));return function(t,e){return r.apply(this,arguments)}}())}}]},t.useLoading=function(t){return[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{title:"加载中...",mask:!1};return new Promise((function(n,o){try{if(!e&&!t)return console.warn("please provide a option"),o(Error("please provide a option"));var i=Object.assign({},t||{},e||{});i.title?r.showLoading(l(l({},i),{},{success:n,fail:o})).catch(o):o({errMsg:"showLoading: fail"})}catch(t){o(t)}}))},function(){return new Promise((function(t,e){try{r.hideLoading({success:t,fail:e})}catch(t){e(t)}}))}]},t.useModal=function(t){return[function(e){return new Promise((function(n,o){try{if(!e&&!t)return console.warn("please provide a option"),o(Error("please provide a option"));var i=Object.assign({},t||{},e||{});r.showModal(l(l({},i),{},{success:n,fail:o})).catch(o)}catch(t){o(t)}}))}]},t.useRouter=function(){return[r.useRouter(),{switchTab:function(t,e){return new Promise((function(n,o){try{t=nt(t,e),r.switchTab({url:t,success:n,fail:o}).catch(o)}catch(t){o(t)}}))},relaunch:function(t,e){return new Promise((function(n,o){try{t=nt(t,e),r.reLaunch({url:t,success:n,fail:o}).catch(o)}catch(t){o(t)}}))},redirectTo:function(t,e){return new Promise((function(n,o){try{t=nt(t,e),r.redirectTo({url:t,success:n,fail:o}).catch(o)}catch(t){o(t)}}))},navigateTo:function(t,e){return new Promise((function(n,o){try{var i=(e||{}).appId;i&&t?r.navigateToMiniProgram(l(l({},e),{},{appId:i,success:n,fail:o})).catch(o):rt(t,"String")&&(t=nt(t,e),r.navigateTo({url:t,success:n,fail:o}).catch(o))}catch(t){o(t)}}))},navigateBack:function(t,e){return new Promise((function(n,o){try{rt(t,"Boolean")&&t?r.navigateBackMiniProgram(l(l({},e?{extraData:e}:{}),{},{success:n,fail:o})).catch(o):r.navigateBack(l(l({},t?{deltaOrMark:t}:{}),{},{success:n,fail:o})).catch(o)}catch(t){o(t)}}))}}]},t.useThrottleFn=p,t.useToast=function(t){var e=function(e){return new Promise((function(n,o){try{if(!e&&!t)return console.warn("please provide a option"),o(Error("please provide a option"));var i=Object.assign({},t||{},e||{});i.title?r.showToast(l(l({},i),{},{success:n,fail:o})).catch(o):o({errMsg:"showToast: fail"})}catch(t){o(t)}}))};return[{showToastAsync:e,showSuccessAsync:function(t){return e({title:t,icon:"success"})},showErrorAsync:function(t){return e({title:t,icon:"error"})},showNoneAsync:function(t){return e({title:t,icon:"none"})},showNoneTimeoutAsync:function(t){return e({title:t,icon:"none"}).then((function(){return t=1500,new Promise((function(e,r){try{setTimeout((function(){e(t)}),t)}catch(t){r()}}));var t}))}},function(){return new Promise((function(t,e){try{r.hideToast({success:t,fail:e})}catch(t){e(t)}}))}]},Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=taro-vues.min.js.map
