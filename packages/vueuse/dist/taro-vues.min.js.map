{"version":3,"file":"taro-vues.min.js","sources":["../../../node_modules/@babel/runtime/helpers/defineProperty.js","../../../node_modules/@babel/runtime/helpers/objectSpread2.js","../src/utils/index.ts","../src/useThrottleFn/index.ts","../src/useEvent/index.ts","../../../node_modules/regenerator-runtime/runtime.js","../../../node_modules/@babel/runtime/regenerator/index.js","../../../node_modules/@babel/runtime/helpers/asyncToGenerator.js","../../../node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js","../../../node_modules/@babel/runtime/helpers/objectWithoutProperties.js","../../../node_modules/compressorjs-global/dist/compressor.esm.js","../src/useImage/utils.ts","../src/constant.ts","../../../node_modules/@babel/runtime/helpers/typeof.js","../src/utils/tool.ts","../src/usRouter/index.ts","../src/createInjectionState/index.ts","../src/refThrottled/index.ts","../src/useApp/index.ts","../src/useImage/index.ts","../src/useLoading/index.ts","../src/useModal/index.ts","../src/useToast/index.ts"],"sourcesContent":["function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var defineProperty = require(\"./defineProperty.js\");\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n\nmodule.exports = _objectSpread2, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","export * from './types'\n\nimport { unref } from 'vue';\nimport type { Fn, MaybeRef } from './types';\n\nexport type TimeOutPromise = (time: number) => Promise<number>\n\nexport type FunctionArgs<Args extends any[] = any[], Return = void> = (...args: Args) => Return\n\nexport interface FunctionWrapperOptions<Args extends any[] = any[], This = any> {\n  fn: FunctionArgs<Args, This>\n  args: Args\n  thisArg: This\n}\n\nexport type EventFilter<Args extends any[] = any[], This = any> = (\n  invoke: Fn,\n  options: FunctionWrapperOptions<Args, This>\n) => void\n\nexport interface DebounceFilterOptions {\n  /**\n   * The maximum time allowed to be delayed before it's invoked.\n   * In milliseconds.\n   */\n  maxWait?: number\n}\n\n\nexport const timeOutPromise: TimeOutPromise = (time: number) => {\n  return new Promise((resolve, reject) => {\n    try {\n      setTimeout(() => {\n        resolve(time);\n      }, time)\n    } catch (error) {\n      reject();\n    }\n  })\n}\n\n/**\n * @internal\n */\n export function createFilterWrapper<T extends FunctionArgs>(filter: EventFilter, fn: T) {\n  function wrapper(this: any, ...args: any[]) {\n    filter(() => fn.apply(this, args), { fn, thisArg: this, args })\n  }\n\n  return wrapper as any as T\n}\n\n\n/**\n * Create an EventFilter that debounce the events\n *\n * @param ms\n * @param [maxWait=null]\n */\n export function debounceFilter(ms: MaybeRef<number>, options: DebounceFilterOptions = {}) {\n  let timer: ReturnType<typeof setTimeout> | undefined\n  let maxTimer: ReturnType<typeof setTimeout> | undefined | null\n\n  const filter: EventFilter = (invoke) => {\n    const duration = unref(ms)\n    const maxDuration = unref(options.maxWait)\n\n    if (timer)\n      clearTimeout(timer)\n\n    if (duration <= 0 || (maxDuration !== undefined && maxDuration <= 0)) {\n      if (maxTimer) {\n        clearTimeout(maxTimer)\n        maxTimer = null\n      }\n      return invoke()\n    }\n\n    // Create the maxTimer. Clears the regular timer on invokation\n    if (maxDuration && !maxTimer) {\n      maxTimer = setTimeout(() => {\n        if (timer)\n          clearTimeout(timer)\n        maxTimer = null\n        invoke()\n      }, maxDuration)\n    }\n\n    // Create the regular timer. Clears the max timer on invokation\n    timer = setTimeout(() => {\n      if (maxTimer)\n        clearTimeout(maxTimer)\n      maxTimer = null\n      invoke()\n    }, duration)\n  }\n\n  return filter\n}\n\n\n\n/**\n * Create an EventFilter that throttle the events\n *\n * @param ms\n * @param [trailing=true]\n * @param [leading=true]\n */\n export function throttleFilter(ms: MaybeRef<number>, trailing = true, leading = true) {\n  let lastExec = 0\n  let timer: ReturnType<typeof setTimeout> | undefined\n  let isLeading = true\n\n  const clear = () => {\n    if (timer) {\n      clearTimeout(timer)\n      timer = undefined\n    }\n  }\n\n  const filter: EventFilter = (invoke) => {\n    const duration = unref(ms)\n    const elapsed = Date.now() - lastExec\n\n    clear()\n\n    if (duration <= 0) {\n      lastExec = Date.now()\n      return invoke()\n    }\n\n    if (elapsed > duration && (leading || !isLeading)) {\n      lastExec = Date.now()\n      invoke()\n    }\n    else if (trailing) {\n      timer = setTimeout(() => {\n        lastExec = Date.now()\n        isLeading = true\n        clear()\n        invoke()\n      }, duration)\n    }\n\n    if (!leading && !timer)\n      timer = setTimeout(() => isLeading = true, duration)\n\n    isLeading = false\n  }\n\n  return filter\n}","import type { FunctionArgs, MaybeRef } from '../utils'\nimport { createFilterWrapper, throttleFilter } from '../utils'\n\n/**\n * Throttle execution of a function. Especially useful for rate limiting\n * execution of handlers on events like resize and scroll.\n *\n * @param   fn             A function to be executed after delay milliseconds. The `this` context and all arguments are passed through, as-is,\n *                                    to `callback` when the throttled-function is executed.\n * @param   ms             A zero-or-greater delay in milliseconds. For event callbacks, values around 100 or 250 (or even higher) are most useful.\n *\n * @param [trailing=true] if true, call fn again after the time is up\n *\n * @param [leading=true] if true, call fn on the leading edge of the ms timeout\n *\n * @return  A new, throttled, function.\n */\nexport default function useThrottleFn<T extends FunctionArgs>(fn: T, ms: MaybeRef<number> = 200, trailing = true, leading = true): T {\n  return createFilterWrapper(\n    throttleFilter(ms, trailing, leading),\n    fn,\n  )\n}","import Taro from '@tarojs/taro';\nimport { onMounted, onUnmounted } from 'vue';\n\nexport const safeNamespace = ['__taro', 'at'];\nexport type eventHandler = (...args: any[]) => void;\nexport type TEmitEventAction = (eventName: string, ...params: any[]) => void;\nexport type TSetListenerAction = (eventName: string, ...handlers: eventHandler[]) => void;\n\nexport function wrapperEvent(namespace: string, eventName: string): string {\n  return namespace ? `${namespace}.${eventName}` : eventName;\n}\n\nconst createEventCenter = () => Taro.eventCenter;\n\nfunction useEvent(namespace: string) {\n  const events = createEventCenter();\n\n  const emitEvent: TEmitEventAction = (eventName, ...params) => {\n    if (!eventName) {\n      console.warn('eventName not provide');\n      return;\n    }\n    const realEventName = wrapperEvent(namespace, eventName);\n    events.trigger(realEventName, params);\n  };\n\n  const setListener: TSetListenerAction = (eventName, ...handlers) => {\n    if (!eventName || safeNamespace.some((v) => eventName.startsWith(v))) {\n      console.warn('eventName not valid. listen failed');\n    } else if (!handlers.length) {\n      console.warn('you mast provide one handler to listen. add failed');\n    } else {\n      const realEventName = wrapperEvent(namespace, eventName);\n      onMounted(() => {\n        handlers.forEach((handler) => {\n          events.on(realEventName, handler);\n        });\n      });\n\n      onUnmounted(() => {\n        events.off(realEventName);\n      });\n    }\n  };\n\n  const removeAllListener = () => {\n    events.off();\n  }\n\n  return {\n    emitEvent,\n    setListener,\n    removeAllListener\n  };\n}\n\nexport default useEvent;\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = GeneratorFunctionPrototype;\n  define(Gp, \"constructor\", GeneratorFunctionPrototype);\n  define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction);\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  });\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  define(Gp, iteratorSymbol, function() {\n    return this;\n  });\n\n  define(Gp, \"toString\", function() {\n    return \"[object Generator]\";\n  });\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, in modern engines\n  // we can explicitly access globalThis. In older engines we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","module.exports = require(\"regenerator-runtime\");\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutPropertiesLoose, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var objectWithoutPropertiesLoose = require(\"./objectWithoutPropertiesLoose.js\");\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutProperties, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","/*!\n * Compressor.js v1.1.1\n * https://fengyuanchen.github.io/compressorjs\n *\n * Copyright 2018-present Chen Fengyuan\n * Released under the MIT license\n *\n * Date: 2022-03-22T15:13:43.699Z\n */\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nvar canvasToBlob = {exports: {}};\n\n/*\n * JavaScript Canvas to Blob\n * https://github.com/blueimp/JavaScript-Canvas-to-Blob\n *\n * Copyright 2012, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n *\n * Based on stackoverflow user Stoive's code snippet:\n * http://stackoverflow.com/q/4998908\n */\n\n(function (module) {\n  if (typeof window === 'undefined') {\n    return;\n  }\n\n  (function (window) {\n\n    var CanvasPrototype = window.HTMLCanvasElement && window.HTMLCanvasElement.prototype;\n    var hasCanvasPrototype = !!CanvasPrototype;\n\n    var hasBlobConstructor = window.Blob && function () {\n      try {\n        return Boolean(new Blob());\n      } catch (e) {\n        return false;\n      }\n    }();\n\n    var hasArrayBufferViewSupport = hasBlobConstructor && window.Uint8Array && function () {\n      try {\n        return new Blob([new Uint8Array(100)]).size === 100;\n      } catch (e) {\n        return false;\n      }\n    }();\n\n    var BlobBuilder = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder || window.MSBlobBuilder;\n    var dataURIPattern = /^data:((.*?)(;charset=.*?)?)(;base64)?,/;\n\n    var dataURLtoBlob = (hasBlobConstructor || BlobBuilder) && window.atob && window.ArrayBuffer && window.Uint8Array && function (dataURI) {\n      var matches, mediaType, isBase64, dataString, byteString, arrayBuffer, intArray, i, bb; // Parse the dataURI components as per RFC 2397\n\n      matches = dataURI.match(dataURIPattern);\n\n      if (!matches) {\n        throw new Error('invalid data URI');\n      } // Default to text/plain;charset=US-ASCII\n\n\n      mediaType = matches[2] ? matches[1] : 'text/plain' + (matches[3] || ';charset=US-ASCII');\n      isBase64 = !!matches[4];\n      dataString = dataURI.slice(matches[0].length);\n\n      if (isBase64) {\n        // Convert base64 to raw binary data held in a string:\n        byteString = atob(dataString);\n      } else {\n        // Convert base64/URLEncoded data component to raw binary:\n        byteString = decodeURIComponent(dataString);\n      } // Write the bytes of the string to an ArrayBuffer:\n\n\n      arrayBuffer = new ArrayBuffer(byteString.length);\n      intArray = new Uint8Array(arrayBuffer);\n\n      for (i = 0; i < byteString.length; i += 1) {\n        intArray[i] = byteString.charCodeAt(i);\n      } // Write the ArrayBuffer (or ArrayBufferView) to a blob:\n\n\n      if (hasBlobConstructor) {\n        return new Blob([hasArrayBufferViewSupport ? intArray : arrayBuffer], {\n          type: mediaType\n        });\n      }\n\n      bb = new BlobBuilder();\n      bb.append(arrayBuffer);\n      return bb.getBlob(mediaType);\n    };\n\n    if (hasCanvasPrototype) {\n      if (window.HTMLCanvasElement && !CanvasPrototype.toBlob) {\n        if (CanvasPrototype.mozGetAsFile) {\n          CanvasPrototype.toBlob = function (callback, type, quality) {\n            var self = this;\n            setTimeout(function () {\n              if (quality && CanvasPrototype.toDataURL && dataURLtoBlob) {\n                callback(dataURLtoBlob(self.toDataURL(type, quality)));\n              } else {\n                callback(self.mozGetAsFile('blob', type));\n              }\n            });\n          };\n        } else if (CanvasPrototype.toDataURL && dataURLtoBlob) {\n          if (CanvasPrototype.msToBlob) {\n            CanvasPrototype.toBlob = function (callback, type, quality) {\n              var self = this;\n              setTimeout(function () {\n                if ((type && type !== 'image/png' || quality) && CanvasPrototype.toDataURL && dataURLtoBlob) {\n                  callback(dataURLtoBlob(self.toDataURL(type, quality)));\n                } else {\n                  callback(self.msToBlob(type));\n                }\n              });\n            };\n          } else {\n            CanvasPrototype.toBlob = function (callback, type, quality) {\n              var self = this;\n              setTimeout(function () {\n                callback(dataURLtoBlob(self.toDataURL(type, quality)));\n              });\n            };\n          }\n        }\n      }\n    }\n\n    if (module.exports) {\n      module.exports = dataURLtoBlob;\n    } else {\n      window.dataURLtoBlob = dataURLtoBlob;\n    }\n  })(globalThis || window); // shims globalThis to miniprogram\n\n})(canvasToBlob);\n\nvar toBlob = canvasToBlob.exports;\n\nvar isBlob = function isBlob(value) {\n  if (typeof Blob === 'undefined') {\n    return false;\n  }\n\n  return value instanceof Blob || Object.prototype.toString.call(value) === '[object Blob]';\n};\n\nvar DEFAULTS = {\n  /**\n   * Indicates if output the original image instead of the compressed one\n   * when the size of the compressed image is greater than the original one's\n   * @type {boolean}\n   */\n  strict: true,\n\n  /**\n   * Indicates if read the image's Exif Orientation information,\n   * and then rotate or flip the image automatically.\n   * @type {boolean}\n   */\n  checkOrientation: true,\n\n  /**\n   * The max width of the output image.\n   * @type {number}\n   */\n  maxWidth: Infinity,\n\n  /**\n   * The max height of the output image.\n   * @type {number}\n   */\n  maxHeight: Infinity,\n\n  /**\n   * The min width of the output image.\n   * @type {number}\n   */\n  minWidth: 0,\n\n  /**\n   * The min height of the output image.\n   * @type {number}\n   */\n  minHeight: 0,\n\n  /**\n   * The width of the output image.\n   * If not specified, the natural width of the source image will be used.\n   * @type {number}\n   */\n  width: undefined,\n\n  /**\n   * The height of the output image.\n   * If not specified, the natural height of the source image will be used.\n   * @type {number}\n   */\n  height: undefined,\n\n  /**\n   * Sets how the size of the image should be resized to the container\n   * specified by the `width` and `height` options.\n   * @type {string}\n   */\n  resize: 'none',\n\n  /**\n   * The quality of the output image.\n   * It must be a number between `0` and `1`,\n   * and only available for `image/jpeg` and `image/webp` images.\n   * Check out {@link https://developer.mozilla.org/en-US/docs/Web/API/HTMLCanvasElement/toBlob canvas.toBlob}.\n   * @type {number}\n   */\n  quality: 0.8,\n\n  /**\n   * The mime type of the output image.\n   * By default, the original mime type of the source image file will be used.\n   * @type {string}\n   */\n  mimeType: 'auto',\n\n  /**\n   * Files whose file type is included in this list,\n   * and whose file size exceeds the `convertSize` value will be converted to JPEGs.\n   * @type {string｜Array}\n   */\n  convertTypes: ['image/png'],\n\n  /**\n   * PNG files over this size (5 MB by default) will be converted to JPEGs.\n   * To disable this, just set the value to `Infinity`.\n   * @type {number}\n   */\n  convertSize: 5000000,\n\n  /**\n   * The hook function to execute before draw the image into the canvas for compression.\n   * @type {Function}\n   * @param {CanvasRenderingContext2D} context - The 2d rendering context of the canvas.\n   * @param {HTMLCanvasElement} canvas - The canvas for compression.\n   * @example\n   * function (context, canvas) {\n   *   context.fillStyle = '#fff';\n   * }\n   */\n  beforeDraw: null,\n\n  /**\n   * The hook function to execute after drew the image into the canvas for compression.\n   * @type {Function}\n   * @param {CanvasRenderingContext2D} context - The 2d rendering context of the canvas.\n   * @param {HTMLCanvasElement} canvas - The canvas for compression.\n   * @example\n   * function (context, canvas) {\n   *   context.filter = 'grayscale(100%)';\n   * }\n   */\n  drew: null,\n\n  /**\n   * The hook function to execute when success to compress the image.\n   * @type {Function}\n   * @param {File} file - The compressed image File object.\n   * @example\n   * function (file) {\n   *   console.log(file);\n   * }\n   */\n  success: null,\n\n  /**\n   * The hook function to execute when fail to compress the image.\n   * @type {Function}\n   * @param {Error} err - An Error object.\n   * @example\n   * function (err) {\n   *   console.log(err.message);\n   * }\n   */\n  error: null\n};\n\nvar IS_BROWSER = typeof window !== 'undefined' && typeof window.document !== 'undefined';\nvar WINDOW = IS_BROWSER ? window : {};\n\n/**\n * Check if the given value is a positive number.\n * @param {*} value - The value to check.\n * @returns {boolean} Returns `true` if the given value is a positive number, else `false`.\n */\n\nvar isPositiveNumber = function isPositiveNumber(value) {\n  return value > 0 && value < Infinity;\n};\nvar slice = Array.prototype.slice;\n/**\n * Convert array-like or iterable object to an array.\n * @param {*} value - The value to convert.\n * @returns {Array} Returns a new array.\n */\n\nfunction toArray(value) {\n  return Array.from ? Array.from(value) : slice.call(value);\n}\nvar REGEXP_IMAGE_TYPE = /^image\\/.+$/;\n/**\n * Check if the given value is a mime type of image.\n * @param {*} value - The value to check.\n * @returns {boolean} Returns `true` if the given is a mime type of image, else `false`.\n */\n\nfunction isImageType(value) {\n  return REGEXP_IMAGE_TYPE.test(value);\n}\n/**\n * Convert image type to extension.\n * @param {string} value - The image type to convert.\n * @returns {boolean} Returns the image extension.\n */\n\nfunction imageTypeToExtension(value) {\n  var extension = isImageType(value) ? value.substr(6) : '';\n\n  if (extension === 'jpeg') {\n    extension = 'jpg';\n  }\n\n  return \".\".concat(extension);\n}\nvar fromCharCode = String.fromCharCode;\n/**\n * Get string from char code in data view.\n * @param {DataView} dataView - The data view for read.\n * @param {number} start - The start index.\n * @param {number} length - The read length.\n * @returns {string} The read result.\n */\n\nfunction getStringFromCharCode(dataView, start, length) {\n  var str = '';\n  var i;\n  length += start;\n\n  for (i = start; i < length; i += 1) {\n    str += fromCharCode(dataView.getUint8(i));\n  }\n\n  return str;\n}\nvar btoa = WINDOW.btoa;\n/**\n * Transform array buffer to Data URL.\n * @param {ArrayBuffer} arrayBuffer - The array buffer to transform.\n * @param {string} mimeType - The mime type of the Data URL.\n * @returns {string} The result Data URL.\n */\n\nfunction arrayBufferToDataURL(arrayBuffer, mimeType) {\n  var chunks = [];\n  var chunkSize = 8192;\n  var uint8 = new Uint8Array(arrayBuffer);\n\n  while (uint8.length > 0) {\n    // XXX: Babel's `toConsumableArray` helper will throw error in IE or Safari 9\n    // eslint-disable-next-line prefer-spread\n    chunks.push(fromCharCode.apply(null, toArray(uint8.subarray(0, chunkSize))));\n    uint8 = uint8.subarray(chunkSize);\n  }\n\n  return \"data:\".concat(mimeType, \";base64,\").concat(btoa(chunks.join('')));\n}\n/**\n * Get orientation value from given array buffer.\n * @param {ArrayBuffer} arrayBuffer - The array buffer to read.\n * @returns {number} The read orientation value.\n */\n\nfunction resetAndGetOrientation(arrayBuffer) {\n  var dataView = new DataView(arrayBuffer);\n  var orientation; // Ignores range error when the image does not have correct Exif information\n\n  try {\n    var littleEndian;\n    var app1Start;\n    var ifdStart; // Only handle JPEG image (start by 0xFFD8)\n\n    if (dataView.getUint8(0) === 0xFF && dataView.getUint8(1) === 0xD8) {\n      var length = dataView.byteLength;\n      var offset = 2;\n\n      while (offset + 1 < length) {\n        if (dataView.getUint8(offset) === 0xFF && dataView.getUint8(offset + 1) === 0xE1) {\n          app1Start = offset;\n          break;\n        }\n\n        offset += 1;\n      }\n    }\n\n    if (app1Start) {\n      var exifIDCode = app1Start + 4;\n      var tiffOffset = app1Start + 10;\n\n      if (getStringFromCharCode(dataView, exifIDCode, 4) === 'Exif') {\n        var endianness = dataView.getUint16(tiffOffset);\n        littleEndian = endianness === 0x4949;\n\n        if (littleEndian || endianness === 0x4D4D\n        /* bigEndian */\n        ) {\n          if (dataView.getUint16(tiffOffset + 2, littleEndian) === 0x002A) {\n            var firstIFDOffset = dataView.getUint32(tiffOffset + 4, littleEndian);\n\n            if (firstIFDOffset >= 0x00000008) {\n              ifdStart = tiffOffset + firstIFDOffset;\n            }\n          }\n        }\n      }\n    }\n\n    if (ifdStart) {\n      var _length = dataView.getUint16(ifdStart, littleEndian);\n\n      var _offset;\n\n      var i;\n\n      for (i = 0; i < _length; i += 1) {\n        _offset = ifdStart + i * 12 + 2;\n\n        if (dataView.getUint16(_offset, littleEndian) === 0x0112\n        /* Orientation */\n        ) {\n          // 8 is the offset of the current tag's value\n          _offset += 8; // Get the original orientation value\n\n          orientation = dataView.getUint16(_offset, littleEndian); // Override the orientation with its default value\n\n          dataView.setUint16(_offset, 1, littleEndian);\n          break;\n        }\n      }\n    }\n  } catch (e) {\n    orientation = 1;\n  }\n\n  return orientation;\n}\n/**\n * Parse Exif Orientation value.\n * @param {number} orientation - The orientation to parse.\n * @returns {Object} The parsed result.\n */\n\nfunction parseOrientation(orientation) {\n  var rotate = 0;\n  var scaleX = 1;\n  var scaleY = 1;\n\n  switch (orientation) {\n    // Flip horizontal\n    case 2:\n      scaleX = -1;\n      break;\n    // Rotate left 180°\n\n    case 3:\n      rotate = -180;\n      break;\n    // Flip vertical\n\n    case 4:\n      scaleY = -1;\n      break;\n    // Flip vertical and rotate right 90°\n\n    case 5:\n      rotate = 90;\n      scaleY = -1;\n      break;\n    // Rotate right 90°\n\n    case 6:\n      rotate = 90;\n      break;\n    // Flip horizontal and rotate right 90°\n\n    case 7:\n      rotate = 90;\n      scaleX = -1;\n      break;\n    // Rotate left 90°\n\n    case 8:\n      rotate = -90;\n      break;\n  }\n\n  return {\n    rotate: rotate,\n    scaleX: scaleX,\n    scaleY: scaleY\n  };\n}\nvar REGEXP_DECIMALS = /\\.\\d*(?:0|9){12}\\d*$/;\n/**\n * Normalize decimal number.\n * Check out {@link https://0.30000000000000004.com/}\n * @param {number} value - The value to normalize.\n * @param {number} [times=100000000000] - The times for normalizing.\n * @returns {number} Returns the normalized number.\n */\n\nfunction normalizeDecimalNumber(value) {\n  var times = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 100000000000;\n  return REGEXP_DECIMALS.test(value) ? Math.round(value * times) / times : value;\n}\n/**\n * Get the max sizes in a rectangle under the given aspect ratio.\n * @param {Object} data - The original sizes.\n * @param {string} [type='contain'] - The adjust type.\n * @returns {Object} The result sizes.\n */\n\nfunction getAdjustedSizes(_ref) {\n  var aspectRatio = _ref.aspectRatio,\n      height = _ref.height,\n      width = _ref.width;\n  var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'none';\n  var isValidWidth = isPositiveNumber(width);\n  var isValidHeight = isPositiveNumber(height);\n\n  if (isValidWidth && isValidHeight) {\n    var adjustedWidth = height * aspectRatio;\n\n    if ((type === 'contain' || type === 'none') && adjustedWidth > width || type === 'cover' && adjustedWidth < width) {\n      height = width / aspectRatio;\n    } else {\n      width = height * aspectRatio;\n    }\n  } else if (isValidWidth) {\n    height = width / aspectRatio;\n  } else if (isValidHeight) {\n    width = height * aspectRatio;\n  }\n\n  return {\n    width: width,\n    height: height\n  };\n}\n\nvar ArrayBuffer$1 = WINDOW.ArrayBuffer,\n    FileReader = WINDOW.FileReader;\nvar URL = WINDOW.URL || WINDOW.webkitURL;\nvar REGEXP_EXTENSION = /\\.\\w+$/;\nvar AnotherCompressor = WINDOW.Compressor;\n/**\n * Creates a new image compressor.\n * @class\n */\n\nvar Compressor = /*#__PURE__*/function () {\n  /**\n   * The constructor of Compressor.\n   * @param {File|Blob} file - The target image file for compressing.\n   * @param {Object} [options] - The options for compressing.\n   */\n  function Compressor(file, options) {\n    _classCallCheck(this, Compressor);\n\n    this.file = file;\n    this.image = new Image();\n    this.options = _objectSpread2(_objectSpread2({}, DEFAULTS), options);\n    this.aborted = false;\n    this.result = null;\n    this.init();\n  }\n\n  _createClass(Compressor, [{\n    key: \"init\",\n    value: function init() {\n      var _this = this;\n\n      var file = this.file,\n          options = this.options;\n\n      if (!isBlob(file)) {\n        this.fail(new Error('The first argument must be a File or Blob object.'));\n        return;\n      }\n\n      var mimeType = file.type;\n\n      if (!isImageType(mimeType)) {\n        this.fail(new Error('The first argument must be an image File or Blob object.'));\n        return;\n      }\n\n      if (!URL || !FileReader) {\n        this.fail(new Error('The current browser does not support image compression.'));\n        return;\n      }\n\n      if (!ArrayBuffer$1) {\n        options.checkOrientation = false;\n      }\n\n      if (URL && !options.checkOrientation) {\n        this.load({\n          url: URL.createObjectURL(file)\n        });\n      } else {\n        var reader = new FileReader();\n        var checkOrientation = options.checkOrientation && mimeType === 'image/jpeg';\n        this.reader = reader;\n\n        reader.onload = function (_ref) {\n          var target = _ref.target;\n          var result = target.result;\n          var data = {};\n\n          if (checkOrientation) {\n            // Reset the orientation value to its default value 1\n            // as some iOS browsers will render image with its orientation\n            var orientation = resetAndGetOrientation(result);\n\n            if (orientation > 1 || !URL) {\n              // Generate a new URL which has the default orientation value\n              data.url = arrayBufferToDataURL(result, mimeType);\n\n              if (orientation > 1) {\n                _extends(data, parseOrientation(orientation));\n              }\n            } else {\n              data.url = URL.createObjectURL(file);\n            }\n          } else {\n            data.url = result;\n          }\n\n          _this.load(data);\n        };\n\n        reader.onabort = function () {\n          _this.fail(new Error('Aborted to read the image with FileReader.'));\n        };\n\n        reader.onerror = function () {\n          _this.fail(new Error('Failed to read the image with FileReader.'));\n        };\n\n        reader.onloadend = function () {\n          _this.reader = null;\n        };\n\n        if (checkOrientation) {\n          reader.readAsArrayBuffer(file);\n        } else {\n          reader.readAsDataURL(file);\n        }\n      }\n    }\n  }, {\n    key: \"load\",\n    value: function load(data) {\n      var _this2 = this;\n\n      var file = this.file,\n          image = this.image;\n\n      image.onload = function () {\n        _this2.draw(_objectSpread2(_objectSpread2({}, data), {}, {\n          naturalWidth: image.naturalWidth,\n          naturalHeight: image.naturalHeight\n        }));\n      };\n\n      image.onabort = function () {\n        _this2.fail(new Error('Aborted to load the image.'));\n      };\n\n      image.onerror = function () {\n        _this2.fail(new Error('Failed to load the image.'));\n      }; // Match all browsers that use WebKit as the layout engine in iOS devices,\n      // such as Safari for iOS, Chrome for iOS, and in-app browsers.\n\n\n      if (WINDOW.navigator && /(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(WINDOW.navigator.userAgent)) {\n        // Fix the `The operation is insecure` error (#57)\n        image.crossOrigin = 'anonymous';\n      }\n\n      image.alt = file.name;\n      image.src = data.url;\n    }\n  }, {\n    key: \"draw\",\n    value: function draw(_ref2) {\n      var _this3 = this;\n\n      var naturalWidth = _ref2.naturalWidth,\n          naturalHeight = _ref2.naturalHeight,\n          _ref2$rotate = _ref2.rotate,\n          rotate = _ref2$rotate === void 0 ? 0 : _ref2$rotate,\n          _ref2$scaleX = _ref2.scaleX,\n          scaleX = _ref2$scaleX === void 0 ? 1 : _ref2$scaleX,\n          _ref2$scaleY = _ref2.scaleY,\n          scaleY = _ref2$scaleY === void 0 ? 1 : _ref2$scaleY;\n      var file = this.file,\n          image = this.image,\n          options = this.options;\n      var canvas = document.createElement('canvas');\n      var context = canvas.getContext('2d');\n      var is90DegreesRotated = Math.abs(rotate) % 180 === 90;\n      var resizable = (options.resize === 'contain' || options.resize === 'cover') && isPositiveNumber(options.width) && isPositiveNumber(options.height);\n      var maxWidth = Math.max(options.maxWidth, 0) || Infinity;\n      var maxHeight = Math.max(options.maxHeight, 0) || Infinity;\n      var minWidth = Math.max(options.minWidth, 0) || 0;\n      var minHeight = Math.max(options.minHeight, 0) || 0;\n      var aspectRatio = naturalWidth / naturalHeight;\n      var width = options.width,\n          height = options.height;\n\n      if (is90DegreesRotated) {\n        var _ref3 = [maxHeight, maxWidth];\n        maxWidth = _ref3[0];\n        maxHeight = _ref3[1];\n        var _ref4 = [minHeight, minWidth];\n        minWidth = _ref4[0];\n        minHeight = _ref4[1];\n        var _ref5 = [height, width];\n        width = _ref5[0];\n        height = _ref5[1];\n      }\n\n      if (resizable) {\n        aspectRatio = width / height;\n      }\n\n      var _getAdjustedSizes = getAdjustedSizes({\n        aspectRatio: aspectRatio,\n        width: maxWidth,\n        height: maxHeight\n      }, 'contain');\n\n      maxWidth = _getAdjustedSizes.width;\n      maxHeight = _getAdjustedSizes.height;\n\n      var _getAdjustedSizes2 = getAdjustedSizes({\n        aspectRatio: aspectRatio,\n        width: minWidth,\n        height: minHeight\n      }, 'cover');\n\n      minWidth = _getAdjustedSizes2.width;\n      minHeight = _getAdjustedSizes2.height;\n\n      if (resizable) {\n        var _getAdjustedSizes3 = getAdjustedSizes({\n          aspectRatio: aspectRatio,\n          width: width,\n          height: height\n        }, options.resize);\n\n        width = _getAdjustedSizes3.width;\n        height = _getAdjustedSizes3.height;\n      } else {\n        var _getAdjustedSizes4 = getAdjustedSizes({\n          aspectRatio: aspectRatio,\n          width: width,\n          height: height\n        });\n\n        var _getAdjustedSizes4$wi = _getAdjustedSizes4.width;\n        width = _getAdjustedSizes4$wi === void 0 ? naturalWidth : _getAdjustedSizes4$wi;\n        var _getAdjustedSizes4$he = _getAdjustedSizes4.height;\n        height = _getAdjustedSizes4$he === void 0 ? naturalHeight : _getAdjustedSizes4$he;\n      }\n\n      width = Math.floor(normalizeDecimalNumber(Math.min(Math.max(width, minWidth), maxWidth)));\n      height = Math.floor(normalizeDecimalNumber(Math.min(Math.max(height, minHeight), maxHeight)));\n      var destX = -width / 2;\n      var destY = -height / 2;\n      var destWidth = width;\n      var destHeight = height;\n      var params = [];\n\n      if (resizable) {\n        var srcX = 0;\n        var srcY = 0;\n        var srcWidth = naturalWidth;\n        var srcHeight = naturalHeight;\n\n        var _getAdjustedSizes5 = getAdjustedSizes({\n          aspectRatio: aspectRatio,\n          width: naturalWidth,\n          height: naturalHeight\n        }, {\n          contain: 'cover',\n          cover: 'contain'\n        }[options.resize]);\n\n        srcWidth = _getAdjustedSizes5.width;\n        srcHeight = _getAdjustedSizes5.height;\n        srcX = (naturalWidth - srcWidth) / 2;\n        srcY = (naturalHeight - srcHeight) / 2;\n        params.push(srcX, srcY, srcWidth, srcHeight);\n      }\n\n      params.push(destX, destY, destWidth, destHeight);\n\n      if (is90DegreesRotated) {\n        var _ref6 = [height, width];\n        width = _ref6[0];\n        height = _ref6[1];\n      }\n\n      canvas.width = width;\n      canvas.height = height;\n\n      if (!isImageType(options.mimeType)) {\n        options.mimeType = file.type;\n      }\n\n      var fillStyle = 'transparent'; // Converts PNG files over the `convertSize` to JPEGs.\n\n      if (file.size > options.convertSize && options.convertTypes.indexOf(options.mimeType) >= 0) {\n        options.mimeType = 'image/jpeg';\n      }\n\n      if (options.mimeType === 'image/jpeg') {\n        fillStyle = '#fff';\n      } // Override the default fill color (#000, black)\n\n\n      context.fillStyle = fillStyle;\n      context.fillRect(0, 0, width, height);\n\n      if (options.beforeDraw) {\n        options.beforeDraw.call(this, context, canvas);\n      }\n\n      if (this.aborted) {\n        return;\n      }\n\n      context.save();\n      context.translate(width / 2, height / 2);\n      context.rotate(rotate * Math.PI / 180);\n      context.scale(scaleX, scaleY);\n      context.drawImage.apply(context, [image].concat(params));\n      context.restore();\n\n      if (options.drew) {\n        options.drew.call(this, context, canvas);\n      }\n\n      if (this.aborted) {\n        return;\n      }\n\n      var done = function done(result) {\n        if (!_this3.aborted) {\n          _this3.done({\n            naturalWidth: naturalWidth,\n            naturalHeight: naturalHeight,\n            result: result\n          });\n        }\n      };\n\n      if (canvas.toBlob) {\n        canvas.toBlob(done, options.mimeType, options.quality);\n      } else {\n        done(toBlob(canvas.toDataURL(options.mimeType, options.quality)));\n      }\n    }\n  }, {\n    key: \"done\",\n    value: function done(_ref7) {\n      var naturalWidth = _ref7.naturalWidth,\n          naturalHeight = _ref7.naturalHeight,\n          result = _ref7.result;\n      var file = this.file,\n          image = this.image,\n          options = this.options;\n\n      if (URL && !options.checkOrientation) {\n        URL.revokeObjectURL(image.src);\n      }\n\n      if (result) {\n        // Returns original file if the result is greater than it and without size related options\n        if (options.strict && result.size > file.size && options.mimeType === file.type && !(options.width > naturalWidth || options.height > naturalHeight || options.minWidth > naturalWidth || options.minHeight > naturalHeight || options.maxWidth < naturalWidth || options.maxHeight < naturalHeight)) {\n          result = file;\n        } else {\n          var date = new Date();\n          result.lastModified = date.getTime();\n          result.lastModifiedDate = date;\n          result.name = file.name; // Convert the extension to match its type\n\n          if (result.name && result.type !== file.type) {\n            result.name = result.name.replace(REGEXP_EXTENSION, imageTypeToExtension(result.type));\n          }\n        }\n      } else {\n        // Returns original file if the result is null in some cases.\n        result = file;\n      }\n\n      this.result = result;\n\n      if (options.success) {\n        options.success.call(this, result);\n      }\n    }\n  }, {\n    key: \"fail\",\n    value: function fail(err) {\n      var options = this.options;\n\n      if (options.error) {\n        options.error.call(this, err);\n      } else {\n        throw err;\n      }\n    }\n  }, {\n    key: \"abort\",\n    value: function abort() {\n      if (!this.aborted) {\n        this.aborted = true;\n\n        if (this.reader) {\n          this.reader.abort();\n        } else if (!this.image.complete) {\n          this.image.onload = null;\n          this.image.onabort();\n        } else {\n          this.fail(new Error('The compression process has been aborted.'));\n        }\n      }\n    }\n    /**\n     * Get the no conflict compressor class.\n     * @returns {Compressor} The compressor class.\n     */\n\n  }], [{\n    key: \"noConflict\",\n    value: function noConflict() {\n      window.Compressor = AnotherCompressor;\n      return Compressor;\n    }\n    /**\n     * Change the default options.\n     * @param {Object} options - The new default options.\n     */\n\n  }, {\n    key: \"setDefaults\",\n    value: function setDefaults(options) {\n      _extends(DEFAULTS, options);\n    }\n  }]);\n\n  return Compressor;\n}();\n\nexport { Compressor as default };\n","import Compressor from 'compressorjs-global';\n\nexport const downloadImage = async (filePath: string) => {\n  const responese = await fetch(filePath);\n  const blob = await responese.blob();\n  return blob;\n};\n\nexport const generateBlobUrl = (blob: Blob): string => {\n  const blobInstance = new Blob([blob], {\n    type: 'application/octet-stream',\n  });\n  const href = window.URL.createObjectURL(blobInstance);\n  return href;\n};\n\nexport const saveImageForH5 = async (filePath: string) => {\n  if (filePath) {\n    let result = true;\n    try {\n      const blob = await downloadImage(filePath);\n      const href = generateBlobUrl(blob);\n      const downloadElement = document.createElement('a');\n      downloadElement.href = href;\n      downloadElement.download = filePath.split('/').reverse()[0];\n      document.body.appendChild(downloadElement);\n      downloadElement.click();\n      document.body.removeChild(downloadElement);\n      window.URL.revokeObjectURL(href);\n    } catch (e) {\n      result = false;\n    }\n    return result;\n  }\n  return false;\n};\n\nexport const compressForH5 = (blob: Blob, quality?: number) => {\n  return new Promise((resolve, reject) => {\n    new Compressor(blob, {\n      quality: (quality || 80) / 100,\n      success: (res) => {\n        const tempFilePath = generateBlobUrl(res);\n        resolve({\n          tempFilePath,\n          errMsg: 'compressImage:ok',\n        });\n      },\n      error: reject,\n    });\n  });\n};\n","export const ENV_TYPE = {\n  WEAPP: 'WEAPP',\n  WEB: 'WEB',\n  RN: 'RN',\n  SWAN: 'SWAN',\n  ALIPAY: 'ALIPAY',\n  TT: 'TT',\n  QQ: 'QQ',\n  JD: 'JD',\n} as const;\n","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return (module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports), _typeof(obj);\n}\n\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","import type { TRecord } from '../type';\n\nexport const noop = () => {};\n\nexport const promiseNoop = () => Promise.resolve();\n\nexport const typeOf = (target: any, type: string | string[]): boolean => {\n  return [type]\n    .flat()\n    .some((v) => Object.prototype.toString.call(target) === `[object ${v}]`);\n};\n\nexport const isPlainObject = (object: TRecord): boolean =>\n  !(object && Object.entries(object).length);\n\nexport const isUndefined = (target: unknown): boolean =>\n  typeof target === 'undefined';\n","import {\n  useRouter as useTaroRouter,\n  switchTab,\n  reLaunch,\n  redirectTo,\n  navigateTo,\n  navigateBack,\n  navigateToMiniProgram,\n  navigateBackMiniProgram,\n} from '@tarojs/taro';\nimport { stringify } from 'querystring';\nimport { typeOf } from '../utils/tool';\nimport type { TRouteInfo, TRecord } from '../type';\n\nexport type NavigateBackSync = (\n  deltaOrMark?: number | boolean,\n  extraData?: TRecord,\n) => Promise<TaroGeneral.CallbackResult>;\nexport interface INavigateToMiniProgramSyncOptions {\n  appId?: string;\n  path?: string;\n  envVersion?: keyof navigateToMiniProgram.envVersion;\n  extraData?: TRecord;\n}\n\nexport type CommonRouteWithOptionsSync = (\n  url: string,\n  options?: TRecord,\n) => Promise<TaroGeneral.CallbackResult>;\n\nexport type NavigateToSync = (\n  urlOrMark: string | boolean,\n  options?: TRecord | INavigateToMiniProgramSyncOptions,\n) => Promise<TaroGeneral.CallbackResult>;\nexport interface ResultMethods {\n  switchTab: CommonRouteWithOptionsSync;\n  relaunch: CommonRouteWithOptionsSync;\n  redirectTo: CommonRouteWithOptionsSync;\n  navigateTo: NavigateToSync;\n  navigateBack: NavigateBackSync;\n}\n\nexport type Result = [TRouteInfo, ResultMethods];\n\nfunction stringfiyUrl(url: string, options?: TRecord): string {\n  let stringfiyUrl = url;\n  if (options && typeof options === 'object') {\n    const hasQuery = stringfiyUrl.includes('?');\n    stringfiyUrl += (hasQuery ? '&' : '?') + stringify(options);\n  }\n  return stringfiyUrl;\n}\n\nfunction useRouter(): Result {\n  const router = useTaroRouter();\n\n  const switchTabSync: CommonRouteWithOptionsSync = (url, options) => {\n    return new Promise((resolve, reject) => {\n      try {\n        url = stringfiyUrl(url, options);\n        switchTab({ url, success: resolve, fail: reject }).catch(reject);\n      } catch (e) {\n        reject(e);\n      }\n    });\n  };\n  const relaunchSync: CommonRouteWithOptionsSync = (url, options) => {\n    return new Promise((resolve, reject) => {\n      try {\n        url = stringfiyUrl(url, options);\n        reLaunch({ url, success: resolve, fail: reject }).catch(reject);\n      } catch (e) {\n        reject(e);\n      }\n    });\n  };\n\n  const redirectToSync: CommonRouteWithOptionsSync = (url, options) => {\n    return new Promise((resolve, reject) => {\n      try {\n        url = stringfiyUrl(url, options);\n        redirectTo({ url, success: resolve, fail: reject }).catch(reject);\n      } catch (e) {\n        reject(e);\n      }\n    });\n  };\n\n  const navigateToSync: NavigateToSync = (urlOrMark, options) => {\n    return new Promise((resolve, reject) => {\n      try {\n        const { appId } = options || {};\n        // if appid exist, use navigateToMiniprogram\n        if (appId && urlOrMark) {\n          navigateToMiniProgram({\n            ...options,\n            appId,\n            success: resolve,\n            fail: reject,\n          }).catch(reject);\n        } else if (typeOf(urlOrMark, 'String')) {\n          urlOrMark = stringfiyUrl(urlOrMark as string, options);\n          navigateTo({ url: urlOrMark, success: resolve, fail: reject }).catch(reject);\n        }\n      } catch (e) {\n        reject(e);\n      }\n    });\n  };\n\n  const navigateBackSync: NavigateBackSync = (deltaOrMark, extraData) => {\n    return new Promise((resolve, reject) => {\n      try {\n        // if deltaOrMark is boolean, use navigateBackMiniprogram\n        if (typeOf(deltaOrMark, 'Boolean') && deltaOrMark) {\n          navigateBackMiniProgram({\n            ...(extraData ? { extraData } : {}),\n            success: resolve,\n            fail: reject,\n          }).catch(reject);\n        } else {\n          navigateBack({\n            ...(deltaOrMark ? { deltaOrMark } : {}),\n            success: resolve,\n            fail: reject,\n          }).catch(reject);\n        }\n      } catch (e) {\n        reject(e);\n      }\n    });\n  };\n\n  return [\n    router,\n    {\n      switchTab: switchTabSync,\n      relaunch: relaunchSync,\n      redirectTo: redirectToSync,\n      navigateTo: navigateToSync,\n      navigateBack: navigateBackSync,\n    },\n  ];\n}\n\nexport default useRouter;\n","import { type InjectionKey, type App, inject, provide } from 'vue'\n\n/**\n * Create global state that can be injected into components.\n *\n * @see https://vueuse.org/createInjectionState\n *\n */\nfunction createInjectionState<Arguments extends Array<any>,Return>(\n  composable: (...args: Arguments) => Return\n): readonly [useProvidingState: (...args: Arguments) => void, useInjectedState: () => Return | undefined, install: (app: App, ...args: Arguments) => void] {\n  const key: string | InjectionKey<Return> = Symbol('InjectionState')\n  const useProvidingState = (...args: Arguments) => {\n    provide(key, composable(...args))\n  }\n  const install = (app: App, ...args: Arguments) => {\n    app.provide(key, composable(...args));\n  }\n  const useInjectedState = () => inject(key)\n  return [useProvidingState, useInjectedState, install]\n}\n\nexport default createInjectionState;","import type { Ref } from 'vue';\nimport { ref, watch } from 'vue';\nimport useThrottleFn  from '../useThrottleFn';\n\n\nexport default function refThrottled<T>(value: Ref<T>, delay = 200, trailing = true, leading = true) {\n  if (delay <= 0)\n    return value\n\n  const throttled: Ref<T> = ref(value.value as T) as Ref<T>\n\n  const updater = useThrottleFn(() => {\n    throttled.value = value.value\n  }, delay, trailing, leading)\n\n  watch(value, () => updater())\n\n  return throttled\n}","import { ref, Ref } from 'vue';\nimport { getApp } from '@tarojs/taro';\n\nimport type { App } from '@tarojs/taro';\nimport type { TRecord } from '../type';\n\nexport type TSetGlobalData = (key: string, value: unknown) => Promise<TaroGeneral.CallbackResult>;\n\nfunction useApp(allDefault?: boolean) {\n  const appInstance = getApp({ allowDefault: Boolean(allDefault) });\n\n  const globalData = ref<TRecord>(\n    appInstance.globalData ?? {}\n  );\n\n  const setGlobalDataAsync: TSetGlobalData = (key, value) => {\n    return new Promise((resolve, reject) => {\n      try {\n        const prevGlobalData = { ...globalData.value };\n        prevGlobalData[key] = value;\n        appInstance.globalData = prevGlobalData;\n        globalData.value = prevGlobalData;\n        resolve({ errMsg: 'setGlobalData: ok' });\n      } catch (e) {\n        reject({ errMsg: 'setGlobalData: fail', data: e });\n      }\n    });\n  }\n\n  return [appInstance, globalData, setGlobalDataAsync];\n}\n\nexport default useApp;","import Taro, {\n  saveImageToPhotosAlbum,\n  previewImage,\n  getImageInfo,\n  compressImage,\n  chooseImage,\n  chooseMessageFile,\n  getEnv,\n} from '@tarojs/taro';\nimport { ref } from 'vue';\nimport type { Ref } from 'vue';\nimport { saveImageForH5, downloadImage, compressForH5 } from './utils';\nimport { ENV_TYPE } from '../constant';\n\nexport type ChooseImageOption = Partial<\n  Pick<chooseImage.Option, 'count' | 'sizeType' | 'sourceType'>\n>;\n\nexport type PreviewImageOption = Pick<previewImage.Option, 'current' | 'urls'>;\n\nexport type ChooseImageAction = (\n  option?: ChooseImageOption,\n) => Promise<chooseImage.SuccessCallbackResult>;\n\nexport type PreviewImageAction = (\n  option: PreviewImageOption,\n) => Promise<TaroGeneral.CallbackResult>;\n\nexport type SaveImageToPhotosAlbumAction = (\n  filePath: string,\n) => Promise<TaroGeneral.CallbackResult>;\n\nexport type GetImageInfoAction = (src: string) => Promise<getImageInfo.SuccessCallbackResult>;\n\nexport type ChooseMessageFileAction = (\n  count: number,\n  type?: Pick<chooseMessageFile.Option, 'type'>,\n  extend?: Pick<chooseMessageFile.Option, 'extension'>,\n) => Promise<chooseMessageFile.SuccessCallbackResult>;\n\nexport type CompressImageAction = (\n  src: string,\n  quality?: number,\n) => Promise<compressImage.SuccessCallbackResult>;\n\nexport type IFileInfo = Ref<Pick<chooseImage.SuccessCallbackResult, 'tempFilePaths' | 'tempFiles'>>;\n\nexport interface IAction {\n  choose: ChooseImageAction;\n  chooseMessageFile: ChooseMessageFileAction;\n  preview: PreviewImageAction;\n  save: SaveImageToPhotosAlbumAction;\n  getInfo: GetImageInfoAction;\n  compress: CompressImageAction;\n}\n\nfunction useImage(options: ChooseImageOption): [IFileInfo, IAction] {\n  const fileInfoRef = ref<IFileInfo>({});\n  const env = getEnv();\n\n  const chooseImageAsync: ChooseImageAction = (option = {}) => {\n    const { count, sizeType, sourceType } = options;\n    const finalOptions = Object.assign(\n      {},\n      Object.fromEntries(\n        [\n          ['count', count],\n          ['sizeType', sizeType],\n          ['sourceType', sourceType],\n        ].filter((v) => v[1]) || [],\n      ),\n      option || {},\n    );\n    return new Promise((resolve, reject) => {\n      try {\n        chooseImage({\n          ...finalOptions,\n          success: (res) => {\n            const { errMsg, ...fileInfo } = res;\n            fileInfoRef.value = fileInfo;\n            resolve(res);\n          },\n          fail: reject,\n        }).catch(reject);\n      } catch (e) {\n        reject(e);\n      }\n    });\n  };\n\n  const previewImageAsync: PreviewImageAction = (option) => {\n    return new Promise((resolve, reject) => {\n      try {\n        previewImage({\n          ...option,\n          success: resolve,\n          fail: reject,\n        }).catch(reject);\n      } catch (e) {\n        reject(e);\n      }\n    });\n  };\n\n  const saveImageToPhotosAlbumAsync: SaveImageToPhotosAlbumAction = (filePath) => {\n    return new Promise(async (resolve, reject) => {\n      if (!filePath) {\n        reject('you must provide filePath');\n      } else {\n        try {\n          if (env === ENV_TYPE.WEB) {\n            const result = await saveImageForH5(filePath);\n            if (result) {\n              resolve({\n                errMsg: 'save success',\n              });\n            } else {\n              reject('save fail');\n            }\n          } else {\n            saveImageToPhotosAlbum({\n              filePath,\n              success: resolve,\n              fail: reject,\n            }).catch(reject);\n          }\n        } catch (e) {\n          reject(e);\n        }\n      }\n    });\n  };\n\n  const getImageInfoAsync: GetImageInfoAction = (src) => {\n    return new Promise((resolve, reject) => {\n      if (!src) {\n        reject('please enter a valid path');\n      } else {\n        try {\n          getImageInfo({\n            src,\n            success: resolve,\n            fail: reject,\n          }).catch(reject);\n        } catch (e) {\n          reject(e);\n        }\n      }\n    });\n  };\n\n  const chooseMessageFileAsync: ChooseMessageFileAction = (count, type, extension) => {\n    return new Promise((resolve, reject) => {\n      if (!count || env !== ENV_TYPE.WEAPP) {\n        reject('you must provide count');\n      } else {\n        try {\n          const payload = Object.fromEntries(\n            [\n              ['type', type],\n              ['extension', extension],\n            ].filter((v) => v[1]) || [],\n          );\n          Taro.chooseMessageFile({\n            count,\n            ...payload,\n            success: resolve,\n            fail: reject,\n          });\n        } catch (e) {\n          reject(e);\n        }\n      }\n    });\n  };\n\n  const compressImageAsync: CompressImageAction = (src, quality) => {\n    return new Promise(async (resolve, reject) => {\n      if (!src) {\n        reject('you must provide src');\n      }\n      try {\n        if (env === ENV_TYPE.WEB) {\n          const blob = await downloadImage(src);\n          compressForH5(blob, quality).then(resolve, reject);\n        } else {\n          Taro.compressImage({\n            src,\n            ...(quality ? { quality } : {}),\n            success: resolve,\n            fail: reject,\n          }).catch(reject);\n        }\n      } catch (e) {\n        reject(e);\n      }\n    });\n  };\n\n  return [\n    fileInfoRef as IFileInfo,\n    {\n      choose: chooseImageAsync,\n      chooseMessageFile: chooseMessageFileAsync,\n      preview: previewImageAsync,\n      save: saveImageToPhotosAlbumAsync,\n      getInfo: getImageInfoAsync,\n      compress: compressImageAsync,\n    },\n  ];\n}\n\nexport default useImage;\n","import { showLoading, hideLoading } from '@tarojs/taro';\n\nexport interface LoadingOption {\n  title: string;\n  mask?: boolean;\n}\n\nexport type ShowLoading = (option?: Partial<LoadingOption>) => Promise<TaroGeneral.CallbackResult>;\nexport type HideLoading = () => Promise<TaroGeneral.CallbackResult>;\n\nfunction useLoading(initialOption?: Partial<LoadingOption>): [ShowLoading, HideLoading] {\n  const showLoadingAsync: ShowLoading = (option = ({ title: '加载中...',  mask: false })) => {\n    return new Promise((resolve, reject) => {\n      try {\n        if (!option && !initialOption) {\n          console.warn('please provide a option');\n          return reject(new Error('please provide a option'));\n        } else {\n          const options = Object.assign({}, initialOption || {}, option || {});\n          if (!options.title) {\n            reject({ errMsg: 'showLoading: fail' });\n          } else {\n            showLoading({\n              ...(options as LoadingOption),\n              success: resolve,\n              fail: reject,\n            }).catch(reject);\n          }\n        }\n      } catch (e) {\n        reject(e);\n      }\n    });\n  };\n\n  const hideLoadingAsync: HideLoading = () => {\n    return new Promise((resolve, reject) => {\n      try {\n        hideLoading({\n          success: resolve,\n          fail: reject,\n        });\n      } catch (e) {\n        reject(e);\n      }\n    });\n  };\n\n  return [showLoadingAsync, hideLoadingAsync];\n}\n\nexport default useLoading;\n","import { showModal } from '@tarojs/taro';\nimport type { showModal as showModalNamespace } from '@tarojs/taro';\n\nexport interface ModalOption {\n  title?: string;\n  content?: string;\n  mask?: boolean;\n  cancelColor?: string;\n  cancelText?: string;\n  confirmColor?: string;\n  confirmText?: string;\n  showCancel?: boolean;\n}\n\nexport type ShowModal = (\n  option?: ModalOption,\n) => Promise<showModalNamespace.SuccessCallbackResult | TaroGeneral.CallbackResult>;\n\nfunction useModal(initialOption?: ModalOption): [ShowModal] {\n  const showModalAsync: ShowModal = (option?: ModalOption) => {\n    return new Promise((resolve, reject) => {\n      try {\n        if (!option && !initialOption) {\n          console.warn('please provide a option');\n          return reject(new Error('please provide a option'));\n        } else {\n          const options = Object.assign({}, initialOption || {}, option || {});\n          showModal({\n            ...options,\n            success: resolve,\n            fail: reject,\n          }).catch(reject);\n        }\n      } catch (e) {\n        reject(e);\n      }\n    });\n  };\n\n  return [showModalAsync];\n}\n\nexport default useModal;\n","import { showToast, hideToast } from '@tarojs/taro';\nimport { timeOutPromise } from '../utils';\n\nexport interface ToastOption {\n  title: string;\n  duration?: number;\n  icon?: 'success' | 'loading' | 'none' | 'error';\n  image?: string;\n  mask?: boolean;\n}\n\nexport type ShowToast = (option?: Partial<ToastOption>) => Promise<TaroGeneral.CallbackResult>;\n\nexport type ShowStringToast = (title: string) => Promise<TaroGeneral.CallbackResult>;\n\nexport type HideToast = () => Promise<TaroGeneral.CallbackResult>;\n\nfunction useToast(initialOption?: Partial<ToastOption>): [\n  {\n    showToastAsync: ShowToast;\n    showSuccessAsync: ShowStringToast;\n    showErrorAsync: ShowStringToast;\n    showNoneAsync: ShowStringToast;\n    showNoneTimeoutAsync: (title: string) => Promise<number>;\n  },\n  HideToast,\n] {\n  const showToastAsync: ShowToast = (option?: Partial<ToastOption>) => {\n    return new Promise((resolve, reject) => {\n      try {\n        if (!option && !initialOption) {\n          console.warn('please provide a option');\n          return reject(new Error('please provide a option'));\n        } else {\n          const options = Object.assign({}, initialOption || {}, option || {});\n          if (!options.title) {\n            reject({ errMsg: 'showToast: fail' });\n          } else {\n            showToast({\n              ...(options as ToastOption),\n              success: resolve,\n              fail: reject,\n            }).catch(reject);\n          }\n        }\n      } catch (e) {\n        reject(e);\n      }\n    });\n  };\n\n  const hideToastAsync: HideToast = () => {\n    return new Promise((resolve, reject) => {\n      try {\n        hideToast({\n          success: resolve,\n          fail: reject,\n        });\n      } catch (e) {\n        reject(e);\n      }\n    });\n  };\n\n  const showSuccessAsync: ShowStringToast = (title: string) =>\n    showToastAsync({ title, icon: 'success' });\n\n  const showErrorAsync: ShowStringToast = (title: string) =>\n    showToastAsync({ title, icon: 'error' });\n\n  const showNoneAsync: ShowStringToast = (title: string) => showToastAsync({ title, icon: 'none' });\n\n  const showNoneTimeoutAsync = (title: string) =>\n    showToastAsync({ title, icon: 'none' }).then(() => timeOutPromise(1500));\n  return [\n    {\n      showToastAsync,\n      showSuccessAsync,\n      showErrorAsync,\n      showNoneAsync,\n      showNoneTimeoutAsync,\n    },\n    hideToastAsync,\n  ];\n}\n\nexport default useToast;\n"],"names":["module","obj","key","value","Object","defineProperty","enumerable","configurable","writable","exports","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","createFilterWrapper","fn","args","_this","thisArg","this","throttleFilter","ms","timer","trailing","leading","lastExec","isLeading","clear","clearTimeout","undefined","invoke","duration","unref","elapsed","Date","now","setTimeout","useThrottleFn","safeNamespace","wrapperEvent","namespace","eventName","runtime","Op","prototype","hasOwn","hasOwnProperty","$Symbol","Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","err","wrap","innerFn","outerFn","self","tryLocsList","generator","create","Generator","context","Context","_invoke","state","GenStateSuspendedStart","method","arg","GenStateExecuting","Error","GenStateCompleted","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","sent","_sent","dispatchException","abrupt","record","tryCatch","type","done","GenStateSuspendedYield","makeInvokeMethod","call","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","defineIteratorMethods","AsyncIterator","PromiseImpl","resolve","reject","result","__await","then","unwrapped","error","previousPromise","callInvokeWithMethodAndArg","TypeError","info","resultName","next","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","displayName","isGeneratorFunction","genFun","ctor","constructor","name","mark","setPrototypeOf","__proto__","awrap","async","Promise","iter","reverse","pop","skipTempReset","prev","charAt","slice","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","catch","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","globalThis","Function","require$$0","asyncGeneratorStep","gen","_next","_throw","excluded","sourceKeys","indexOf","objectWithoutPropertiesLoose","sourceSymbolKeys","propertyIsEnumerable","_objectSpread2","_defineProperty","_defineProperties","props","descriptor","_extends","assign","canvasToBlob","window","CanvasPrototype","HTMLCanvasElement","hasCanvasPrototype","hasBlobConstructor","Blob","e","hasArrayBufferViewSupport","Uint8Array","size","BlobBuilder","WebKitBlobBuilder","MozBlobBuilder","MSBlobBuilder","dataURIPattern","dataURLtoBlob","atob","ArrayBuffer","dataURI","matches","mediaType","isBase64","dataString","byteString","arrayBuffer","intArray","bb","match","decodeURIComponent","charCodeAt","append","getBlob","toBlob","mozGetAsFile","callback","quality","toDataURL","msToBlob","DEFAULTS","strict","checkOrientation","maxWidth","Infinity","maxHeight","minWidth","minHeight","width","height","resize","mimeType","convertTypes","convertSize","beforeDraw","drew","success","WINDOW","document","isPositiveNumber","Array","REGEXP_IMAGE_TYPE","isImageType","test","fromCharCode","String","btoa","resetAndGetOrientation","orientation","dataView","DataView","littleEndian","app1Start","ifdStart","getUint8","byteLength","offset","tiffOffset","start","str","getStringFromCharCode","endianness","getUint16","firstIFDOffset","getUint32","_offset","_length","setUint16","REGEXP_DECIMALS","normalizeDecimalNumber","times","Math","round","getAdjustedSizes","_ref","aspectRatio","isValidWidth","isValidHeight","adjustedWidth","ArrayBuffer$1","FileReader","URL","webkitURL","REGEXP_EXTENSION","AnotherCompressor","Compressor","file","options","instance","Constructor","_classCallCheck","image","Image","aborted","init","protoProps","staticProps","toString","load","url","createObjectURL","reader","onload","data","chunks","uint8","subarray","from","concat","join","arrayBufferToDataURL","rotate","scaleX","scaleY","parseOrientation","onabort","fail","onerror","onloadend","readAsArrayBuffer","readAsDataURL","_this2","draw","naturalWidth","naturalHeight","navigator","userAgent","crossOrigin","alt","src","_ref2","_this3","_ref2$rotate","_ref2$scaleX","_ref2$scaleY","canvas","createElement","getContext","is90DegreesRotated","abs","resizable","max","_ref3","_ref4","_ref5","_getAdjustedSizes","_getAdjustedSizes2","_getAdjustedSizes3","_getAdjustedSizes4","_getAdjustedSizes4$wi","_getAdjustedSizes4$he","destX","floor","min","destY","destWidth","destHeight","params","srcWidth","srcHeight","_getAdjustedSizes5","contain","cover","_ref6","fillStyle","fillRect","save","translate","PI","scale","drawImage","restore","_ref7","extension","revokeObjectURL","date","lastModified","getTime","lastModifiedDate","replace","substr","abort","downloadImage","filePath","_context","fetch","responese","blob","generateBlobUrl","blobInstance","saveImageForH5","_context2","href","downloadElement","download","split","body","appendChild","click","removeChild","compressForH5","res","tempFilePath","errMsg","ENV_TYPE","_typeof","typeOf","flat","some","v","stringfiyUrl","hasQuery","includes","stringify","composable","provide","inject","app","delay","throttled","ref","updater","watch","allDefault","appInstance","getApp","allowDefault","globalData","prevGlobalData","events","Taro","eventCenter","emitEvent","realEventName","trigger","console","warn","setListener","handlers","startsWith","onMounted","handler","on","onUnmounted","off","removeAllListener","fileInfoRef","env","getEnv","choose","option","count","sizeType","sourceType","finalOptions","fromEntries","chooseImage","fileInfo","chooseMessageFile","payload","preview","previewImage","saveImageToPhotosAlbum","getInfo","getImageInfo","compress","compressImage","initialOption","title","mask","showLoading","hideLoading","showModal","useTaroRouter","switchTab","relaunch","reLaunch","redirectTo","navigateTo","urlOrMark","appId","navigateToMiniProgram","navigateBack","deltaOrMark","extraData","navigateBackMiniProgram","showToastAsync","showToast","showSuccessAsync","icon","showErrorAsync","showNoneAsync","showNoneTimeoutAsync","time","hideToast"],"mappings":"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"}